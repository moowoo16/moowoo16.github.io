<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 12 - Quote Machine</title>
  <link rel="stylesheet" href="wa12.css">
</head>
<body>

  <div id="quote-box">
    <img id="author-image" src="https://via.placeholder.com/100" alt="Author image">
    <div id="quote">Click below to get a quote!</div>
    <div id="author"></div>
    <div id="loading">Loading...</div>
    <button onclick="getQuote()">Get Quote</button>
    <br>
    <a id="tweet-btn" href="#" target="_blank">Tweet This Quote</a>
  </div>

  <p id="description">
    For this assignment, I extended the quote machine by using the Quotable API and adding features like a loading animation, a placeholder author image, and a Twitter share button. The quote machine is also styled with a clean, modern look using custom CSS.
  </p>

  <script>
    async function getQuote() {
      const quoteText = document.getElementById('quote');
      const authorText = document.getElementById('author');
      const image = document.getElementById('author-image');
      const loading = document.getElementById('loading');
      const tweetBtn = document.getElementById('tweet-btn');

      loading.style.display = 'block';
      quoteText.textContent = '';
      authorText.textContent = '';
      image.src = "https://via.placeholder.com/100";

      try {
        const response = await fetch('https://api.quotable.io/random');
        const data = await response.json();

        quoteText.textContent = `"${data.content}"`;
        authorText.textContent = `— ${data.author}`;
        loading.style.display = 'none';

        // You can enhance this with real author images if you use a more advanced API.
        // For now, this remains a placeholder.

        const tweetURL = `https://twitter.com/intent/tweet?text=${encodeURIComponent(`"${data.content}" — ${data.author}`)}`;
        tweetBtn.href = tweetURL;

      } catch (error) {
        quoteText.textContent = "Oops! Couldn't fetch a quote.";
        loading.style.display = 'none';
      }
    }
  </script>
</body>
</html>
